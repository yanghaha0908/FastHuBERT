[2024-11-09 20:03:19,558][__main__][INFO] - /mnt/cloudstorfs/sjtu_home/guanrou.yang/fairseq/fine280/checkpoint_best_new.pt
[2024-11-09 20:03:19,563][fairseq.tasks.hubert_pretraining][INFO] - current directory is /mnt/cloudstorfs/sjtu_home/guanrou.yang/results/fasthubert_experiment/for_upload_ckpt_github_20241109/decode_result/dev_clean/viterbi
[2024-11-09 20:03:19,563][fairseq.tasks.hubert_pretraining][INFO] - HubertPretrainingTask Config {'_name': 'fasthubert_pretraining', 'data': '/mnt/cloudstorfs/sjtu_home/guanrou.yang/fairseq/data/librispeech_data/bpe_manifest', 'fine_tuning': True, 'labels': ['wp'], 'label_dir': None, 'label_rate': -1.0, 'sample_rate': 16000, 'normalize': False, 'enable_padding': False, 'max_keep_size': None, 'max_sample_size': None, 'min_sample_size': None, 'single_target': True, 'random_crop': False, 'pad_audio': True, 'stats_npz_path': '/data/ygr/librispeech/npyfiles/global_cmvn.npy'}
[2024-11-09 20:03:26,157][fairseq.tasks.hubert_fbank_pretraining][INFO] - current directory is /mnt/cloudstorfs/sjtu_home/guanrou.yang/results/fasthubert_experiment/for_upload_ckpt_github_20241109/decode_result/dev_clean/viterbi
[2024-11-09 20:03:26,160][fairseq.tasks.hubert_fbank_pretraining][INFO] - HubertfbankPretrainingTask Config {'_name': 'hubert_fbank_pretraining', 'data': '/userhome/user/yangguanrou/data/fbank/npyfiles', 'fine_tuning': False, 'labels': ['phn'], 'label_dir': '/userhome/user/yangguanrou/origin', 'label_rate': 50.0, 'sample_rate': 100, 'normalize': False, 'enable_padding': False, 'max_keep_size': None, 'max_sample_size': 250000, 'min_sample_size': 32000, 'single_target': False, 'random_crop': True, 'pad_audio': False}
[2024-11-09 20:03:26,225][fairseq.models.hubert.hubert_fbank_ce][INFO] - HubertfbankceModelConfig: {'_name': 'hubert_fbank_ce_ils', 'label_rate': 50.0, 'extractor_mode': default, 'encoder_layers': 12, 'encoder_embed_dim': 768, 'encoder_ffn_embed_dim': 3072, 'encoder_attention_heads': 12, 'activation_fn': gelu, 'layer_type': transformer, 'dropout': 0.0, 'attention_dropout': 0.0, 'activation_dropout': 0.1, 'encoder_layerdrop': 0.1, 'dropout_input': 0.0, 'dropout_features': 0.1, 'final_dim': 256, 'untie_final_proj': True, 'layer_norm_first': False, 'conv_feature_layers': '[(512,10,5)] + [(512,3,2)] * 4 + [(512,2,2)] * 2', 'conv_bias': False, 'logit_temp': 0.1, 'target_glu': False, 'feature_grad_mult': 0.0, 'mask_length': 10, 'mask_prob': 0.65, 'mask_selection': static, 'mask_other': 0.0, 'no_mask_overlap': False, 'mask_min_space': 1, 'mask_channel_length': 64, 'mask_channel_prob': 0.5, 'mask_channel_selection': static, 'mask_channel_other': 0.0, 'no_mask_channel_overlap': False, 'mask_channel_min_space': 1, 'conv_pos': 128, 'conv_pos_groups': 16, 'latent_temp': [2.0, 0.5, 0.999995], 'skip_masked': False, 'skip_nomask': False, 'checkpoint_activations': False, 'required_seq_len_multiple': 2, 'depthwise_conv_kernel_size': 31, 'attn_type': 'None', 'pos_enc_type': 'rel_pos', 'fp16': False, 'replace_pointwise': False, 'input_feat_per_channel': 80, 'input_channels': 1, 'conv_channels': 1024, 'fbank_encoder_dim': 512, 'conv_kernel_sizes': '5,5', 'max_positions': 1600, 'pmask': False, 'mega': False, 'padding_idx': 1, 'vocab_size': 1, 'num_encoder_layers': 12, 'embedding_dim': 768, 'hidden_dim': 384, 'ffn_hidden_dim': 768, 'z_dim': 192, 'n_dim': 24, 'chunk_size': -1, 'max_seq_len': 1024, 'streaming': False, 'ils': True, 'predict_layers': '[3,11]', 'ufo2': False, 'my_chunk_size': 18, 'causal': False}
[2024-11-09 20:03:34,625][fairseq.models.hubert.hubert_fbank_ce_ILS][INFO] - HubertfbankceILSModelConfig: {'_name': 'hubert_fbank_ce_ils', 'label_rate': 50.0, 'extractor_mode': default, 'encoder_layers': 12, 'encoder_embed_dim': 768, 'encoder_ffn_embed_dim': 3072, 'encoder_attention_heads': 12, 'activation_fn': gelu, 'layer_type': transformer, 'dropout': 0.0, 'attention_dropout': 0.0, 'activation_dropout': 0.1, 'encoder_layerdrop': 0.1, 'dropout_input': 0.0, 'dropout_features': 0.1, 'final_dim': 256, 'untie_final_proj': True, 'layer_norm_first': False, 'conv_feature_layers': '[(512,10,5)] + [(512,3,2)] * 4 + [(512,2,2)] * 2', 'conv_bias': False, 'logit_temp': 0.1, 'target_glu': False, 'feature_grad_mult': 0.0, 'mask_length': 10, 'mask_prob': 0.65, 'mask_selection': static, 'mask_other': 0.0, 'no_mask_overlap': False, 'mask_min_space': 1, 'mask_channel_length': 64, 'mask_channel_prob': 0.5, 'mask_channel_selection': static, 'mask_channel_other': 0.0, 'no_mask_channel_overlap': False, 'mask_channel_min_space': 1, 'conv_pos': 128, 'conv_pos_groups': 16, 'latent_temp': [2.0, 0.5, 0.999995], 'skip_masked': False, 'skip_nomask': False, 'checkpoint_activations': False, 'required_seq_len_multiple': 2, 'depthwise_conv_kernel_size': 31, 'attn_type': 'None', 'pos_enc_type': 'rel_pos', 'fp16': False, 'replace_pointwise': False, 'input_feat_per_channel': 80, 'input_channels': 1, 'conv_channels': 1024, 'fbank_encoder_dim': 512, 'conv_kernel_sizes': '5,5', 'max_positions': 1600, 'pmask': False, 'mega': False, 'padding_idx': 1, 'vocab_size': 1, 'num_encoder_layers': 12, 'embedding_dim': 768, 'hidden_dim': 384, 'ffn_hidden_dim': 768, 'z_dim': 192, 'n_dim': 24, 'chunk_size': -1, 'max_seq_len': 1024, 'streaming': False, 'ils': True, 'predict_layers': '[3,11]', 'ufo2': False, 'my_chunk_size': 18, 'causal': False}
[2024-11-09 20:03:47,350][FastHuBERT.data.hubert_fbank_dataset][INFO] - max_keep=None, min_keep=None, loaded 2703, skipped 0 short and 0 long, longest-loaded=3263, shortest-loaded=143
[2024-11-09 20:03:47,951][fairseq.data.audio.hubert_dataset][INFO] - /mnt/cloudstorfs/sjtu_home/guanrou.yang/fairseq/data/librispeech_data/bpe_manifest/dev_clean.wp is sequence label. skipped
[2024-11-09 20:03:47,970][FastHuBERT.data.hubert_fbank_dataset][INFO] - pad_audio=True, random_crop=False, normalize=False, max_sample_size=9223372036854775807
[2024-11-09 20:10:36,641][__main__][INFO] - Processed 2703 sentences (79414 tokens) in 271.1s 9.97 sentences per second, 292.86 tokens per second)
[2024-11-09 20:10:36,700][__main__][INFO] - Word error rate: 4.9245
